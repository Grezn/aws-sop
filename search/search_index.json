{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"AWS SOP \u624b\u518a","text":"<p>\u9996\u9801\u5167\u5bb9\u5f85\u88dc</p>"},{"location":"%E6%93%8D%E4%BD%9C%E6%89%8B%E5%86%8A/","title":"AWS SOP \u7db2\u7ad9\u64cd\u4f5c\u624b\u518a","text":"<p>\u9019\u4efd\u5c0f\u6284\u5e6b\u52a9\u4f60\u5feb\u901f\u8a18\u4f4f\u5982\u4f55\u65b0\u589e / \u4fee\u6539 SOP\uff0c\u4e26\u63a8\u4e0a GitHub Pages\u3002</p>"},{"location":"%E6%93%8D%E4%BD%9C%E6%89%8B%E5%86%8A/#1","title":"\ud83d\ude80 1. \u672c\u5730\u958b\u767c\u9810\u89bd","text":"<p>```powershell cd C:\\Users\\guard\\Downloads\\aws-sop mkdocs serve</p>"},{"location":"03-network/nlb-alb-guideline/","title":"ALB / NLB \u5efa\u7acb\u8207\u8a2d\u5b9a\u6307\u5357","text":""},{"location":"03-network/nlb-alb-guideline/#1","title":"1. \u524d\u7f6e\u6aa2\u67e5","text":"<ul> <li>[ ] \u78ba\u8a8d\u6d41\u91cf\u9700\u6c42\uff08L4 or L7\uff09</li> <li>[ ] \u78ba\u8a8d\u76ee\u6a19 VPC / Subnet</li> <li>[ ] \u6e96\u5099\u597d Target Group\uff08EC2 / ECS / Lambda\uff09</li> </ul>"},{"location":"03-network/nlb-alb-guideline/#2-alb","title":"2. \u5efa\u7acb ALB","text":"<ol> <li>Console \u2192 EC2 \u2192 Load Balancers \u2192 Create Load Balancer</li> <li>\u9078 Application Load Balancer</li> <li>\u914d\u7f6e\uff1a</li> <li>Scheme: Internet-facing / Internal</li> <li>Listener: HTTP 80 / HTTPS 443</li> <li>Target group: <code>tg-&lt;service-name&gt;</code></li> </ol>"},{"location":"03-network/nlb-alb-guideline/#3-nlb","title":"3. \u5efa\u7acb NLB","text":"<ol> <li>Console \u2192 EC2 \u2192 Load Balancers \u2192 Create Load Balancer</li> <li>\u9078 Network Load Balancer</li> <li>\u914d\u7f6e\uff1a</li> <li>Scheme: Internet-facing / Internal</li> <li>Protocol: TCP</li> <li>Target group: <code>tg-&lt;service-name&gt;</code></li> </ol>"},{"location":"03-network/nlb-alb-guideline/#4","title":"4. \u9a57\u8b49","text":"<ul> <li>[ ] <code>curl</code> \u6e2c\u8a66\u7aef\u9ede</li> <li>[ ] CloudWatch \u6307\u6a19\uff1a<code>HealthyHostCount</code> &gt; 0</li> <li>[ ] \u78ba\u8a8d ACM \u6191\u8b49\uff08HTTPS\uff09</li> </ul>"},{"location":"03-network/nlb-alb-guideline/#5","title":"5. \u56de\u6efe","text":"<ul> <li>\u522a\u9664 ALB / NLB</li> <li>\u79fb\u9664 Target Group</li> </ul>"},{"location":"04-operations/asg-rolling-update/","title":"Auto Scaling Group \u6efe\u52d5\u66f4\u65b0 SOP\uff08EC2\uff09","text":"<p>\u76ee\u6a19\uff1a\u5c0d ASG \u9010\u6279\u66ff\u63db\u5230\u65b0 AMI / \u555f\u52d5\u7d44\u614b\uff0c\u671f\u9593\u7dad\u6301\u670d\u52d9\u53ef\u7528\u3002</p>"},{"location":"04-operations/asg-rolling-update/#0","title":"0. \u53c3\u6578","text":"<ul> <li>ASG \u540d\u7a31\uff1a<code>&lt;your-asg-name&gt;</code></li> <li>\u65b0 AMI/Launch Template \u7248\u672c\uff1a<code>&lt;lt-xxx&gt;:&lt;version&gt;</code></li> <li>\u6700\u5c0f\u5065\u5eb7\u5be6\u4f8b\u6578\uff08\u76ee\u6a19\u5bb9\u91cf\u7684 %\uff09\uff1a\u4f8b\u5982 70%</li> </ul>"},{"location":"04-operations/asg-rolling-update/#1","title":"1. \u524d\u7f6e\u6aa2\u67e5","text":"<ul> <li>[ ] \u65b0 AMI \u5df2\u5b8c\u6210\u786c\u5316\u8207\u6e2c\u8a66</li> <li>[ ] \u65b0 Launch Template \u5df2\u53ef\u555f\u52d5\u4e26\u901a\u904e\u5065\u5eb7\u6aa2\u67e5</li> <li>[ ] \u8ca0\u8f09\u5747\u8861\uff08ALB/NLB\uff09\u5065\u5eb7\u6aa2\u67e5\u6b63\u5e38</li> <li>[ ] \u7dad\u8b77\u7a97\u516c\u544a\u5b8c\u6210</li> </ul>"},{"location":"04-operations/asg-rolling-update/#2-asg","title":"2. \u8abf\u6574 ASG \u7b56\u7565\uff08\u53ef\u9078\uff09","text":"<ul> <li>\u5c07 <code>Max</code> \u5bb9\u91cf\u81e8\u6642\u63d0\u9ad8 +1\uff5e+N\uff0c\u4ee5\u4fbf\u6efe\u52d5\u6642\u6709\u7de9\u885d\u3002</li> </ul>"},{"location":"04-operations/asg-rolling-update/#3","title":"3. \u5957\u7528\u65b0\u7248\u672c","text":"<ol> <li>\u66f4\u65b0 ASG \u4f7f\u7528 \u65b0\u7684 Launch Template \u7248\u672c\u3002</li> <li>\u555f\u7528 Instance Refresh\uff08\u5efa\u8b70\uff09\uff1a</li> <li>Console \u2192 Auto Scaling groups \u2192 Instance refresh \u2192 Start instance refresh</li> <li>\u8a2d\u5b9a\uff1a\u6279\u6b21\u63db\u65b0\u6bd4\u4f8b\uff08\u5982 20%\uff09\u3001\u5065\u5eb7\u6aa2\u67e5\u5bec\u9650\u671f\uff08\u5982 300s\uff09</li> </ol>"},{"location":"04-operations/asg-rolling-update/#4","title":"4. \u76e3\u63a7\u904e\u7a0b","text":"<ul> <li>CloudWatch \u6307\u6a19\uff1a</li> <li><code>GroupInServiceInstances</code> \u6301\u7e8c \u2265 \u6700\u5c0f\u5065\u5eb7\u6578</li> <li>\u61c9\u7528\u5ef6\u9072/\u932f\u8aa4\u7387\u7121\u7570\u5e38</li> <li>\u89c0\u5bdf ALB Target <code>HealthyHostCount</code>\u3002</li> </ul>"},{"location":"04-operations/asg-rolling-update/#5","title":"5. \u9a57\u8b49","text":"<ul> <li>[ ] \u65b0\u5be6\u4f8b\u7248\u672c\u6b63\u78ba\uff08User data / \u61c9\u7528\u7248\u672c\uff09</li> <li>[ ] \u65e5\u8a8c/\u76e3\u63a7\u6b63\u5e38</li> <li>[ ] \u6d41\u91cf\u5e73\u7a69</li> </ul>"},{"location":"04-operations/asg-rolling-update/#6","title":"6. \u56de\u6efe","text":"<ul> <li>\u4f7f\u7528\u5148\u524d Launch Template \u7248\u672c\u91cd\u65b0\u89f8\u767c Instance Refresh</li> <li>\u5fc5\u8981\u6642\u8abf\u964d Max / Desired \u81f3\u7a69\u5b9a\u503c</li> </ul>"},{"location":"04-operations/asg-rolling-update/#7","title":"7. \u8a18\u9304","text":"<ul> <li>\u8b8a\u66f4\u55ae / \u6642\u9593 / \u5f71\u97ff\u8a55\u4f30</li> <li>\u7522\u51fa\u7269\uff1a\u65b0 AMI\u3001LT \u7248\u672c\u3001Instance Refresh ID</li> </ul>"},{"location":"04-operations/ec2-maintenance/","title":"EC2 \u7dad\u8b77 SOP","text":"<p>\u5167\u5bb9\u5f85\u88dc</p>"},{"location":"04-operations/rds-backup-restore/","title":"RDS \u5099\u4efd\u8207\u9084\u539f SOP","text":"<p>\u5167\u5bb9\u5f85\u88dc</p>"},{"location":"04-operations/s3-lifecycle-archive/","title":"S3 \u751f\u547d\u9031\u671f\u8207\u5c01\u5b58 SOP","text":"<p>\u5167\u5bb9\u5f85\u88dc</p>"},{"location":"05-dr/dr-runbook/","title":"\u707d\u96e3\u5fa9\u539f (DR) Runbook","text":""},{"location":"05-dr/dr-runbook/#1","title":"1. \u555f\u52d5\u689d\u4ef6","text":"<ul> <li>\u7576\u4e3b\u8981 Region \u7121\u6cd5\u904b\u4f5c\u8d85\u904e 30 \u5206\u9418</li> <li>CloudWatch Alarm \u89f8\u767c\uff1a\u6838\u5fc3\u670d\u52d9 3 \u500b\u4ee5\u4e0a\u7121\u56de\u61c9</li> <li>Incident Manager \u767c\u5e03 SEV-1</li> </ul>"},{"location":"05-dr/dr-runbook/#2","title":"2. \u57f7\u884c\u6b65\u9a5f","text":"<ol> <li>\u901a\u77e5 DR \u5c0f\u7d44</li> <li>\u555f\u52d5\u9810\u5099 Region \u7684 VPC \u8207\u5b50\u7cfb\u7d71</li> <li>\u5f9e Cross-Region Snapshot \u5efa\u7acb RDS</li> <li>\u555f\u52d5\u6b21\u8981 ALB/NLB</li> <li>Route53 Failover \u2192 \u5207\u63db\u81f3\u6b21\u8981 Region</li> </ol>"},{"location":"05-dr/dr-runbook/#3","title":"3. \u9a57\u8b49","text":"<ul> <li>[ ] \u6838\u5fc3\u670d\u52d9 API \u53ef\u56de\u61c9</li> <li>[ ] \u524d\u53f0\u9801\u9762\u53ef\u767b\u5165</li> <li>[ ] \u8cc7\u6599\u5b8c\u6574\u6027\u62bd\u6a23\u6bd4\u5c0d</li> </ul>"},{"location":"05-dr/dr-runbook/#4","title":"4. \u56de\u5fa9\u6b63\u5e38","text":"<ol> <li>\u78ba\u8a8d\u4e3b\u8981 Region \u6062\u5fa9</li> <li>\u53cd\u5411\u540c\u6b65\u8cc7\u6599\uff08RDS \u2192 Aurora Global DB\uff09</li> <li>Route53 \u5207\u56de\u4e3b\u8981 Region</li> <li>\u95dc\u9589\u6b21\u8981\u8cc7\u6e90\uff0c\u907f\u514d\u984d\u5916\u6210\u672c</li> </ol>"},{"location":"05-dr/dr-runbook/#5","title":"5. \u8a18\u9304","text":"<ul> <li>\u586b\u5beb DR \u5831\u544a</li> <li>\u8a18\u9304\u5fa9\u539f\u8017\u6642\u3001\u5f71\u97ff\u7bc4\u570d</li> </ul>"},{"location":"_templates/sop-template/","title":"\u4efb\u52d9\u540d\u7a31\uff08\u7c21\u8981\u63cf\u8ff0\uff09","text":""},{"location":"_templates/sop-template/#1","title":"1. \u524d\u7f6e\u6aa2\u67e5","text":"<ul> <li>[ ] \u6b0a\u9650 / \u7dad\u8b77\u7a97 / \u8b8a\u66f4\u55ae</li> <li>[ ] \u5fc5\u8981\u53c3\u6578\uff08Parameter Store \u8def\u5f91\u3001KMS Key \u7b49\uff09</li> <li>[ ] \u98a8\u96aa\u8207\u5f71\u97ff\u8a55\u4f30</li> </ul>"},{"location":"_templates/sop-template/#2","title":"2. \u64cd\u4f5c\u6b65\u9a5f","text":"<ol> <li>\u2026\u2026</li> <li>\u2026\u2026</li> </ol>"},{"location":"_templates/sop-template/#3","title":"3. \u9a57\u8b49","text":"<ul> <li>[ ] \u6307\u6a19 / \u65e5\u8a8c / \u7aef\u5230\u7aef\u6e2c\u8a66</li> </ul>"},{"location":"_templates/sop-template/#4","title":"4. \u56de\u6efe","text":"<ul> <li>\u65b9\u6848 A\uff1a\u2026\u2026</li> <li>\u65b9\u6848 B\uff1a\u2026\u2026</li> </ul>"},{"location":"_templates/sop-template/#5","title":"5. \u8a18\u9304","text":"<ul> <li>\u8b8a\u66f4\u55ae\u7de8\u865f / \u5be9\u6279\u4eba / \u57f7\u884c\u4eba</li> <li>CloudTrail / SSM \u57f7\u884c\u7d00\u9304\u9023\u7d50</li> </ul>"},{"location":"_templates/sop-template/#mermaid","title":"\u6d41\u7a0b\u5716\uff08Mermaid \u7bc4\u4f8b\uff0c\u53ef\u522a\uff09","text":"<pre><code>flowchart TD\n  A[\u958b\u59cb] --&gt; B{\u7dad\u8b77\u7a97\u5df2\u516c\u544a?}\n  B -- \u662f --&gt; C[\u57f7\u884c\u6b65\u9a5f]\n  B -- \u5426 --&gt; D[\u5ef6\u5f8c\u4e26\u516c\u544a]\n  C --&gt; E[\u9a57\u8b49]\n  E -- \u6210\u529f --&gt; F[\u95dc\u9589\u8b8a\u66f4]\n  E -- \u5931\u6557 --&gt; G[\u56de\u6efe]\n</code></pre>"}]}