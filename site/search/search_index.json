{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"AWS SOP \u624b\u518a","text":"<p>\u7528\u6700\u7c21\u55ae\u7684\u65b9\u5f0f\u628a SOP \u6536\u6582\u6210\u4e00\u500b\u597d\u627e\u3001\u597d\u8b80\u3001\u53ef\u8ffd\u8e64\u7248\u672c\u7684\u7db2\u7ad9\u3002</p>"},{"location":"#_1","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<ul> <li>\u5de6\u5074\u9078\u55ae\u700f\u89bd\u5404\u985e SOP\u3002</li> <li>\u4f9d SOP \u7ae0\u7bc0\uff1a\u524d\u7f6e\u6aa2\u67e5 \u2192 \u64cd\u4f5c\u6b65\u9a5f \u2192 \u9a57\u8b49/\u56de\u6efe \u2192 \u8a18\u9304\u3002</li> <li>\u6bcf\u6b21\u4fee\u6539\u8acb\u7d93\u7531 Pull Request\uff0c\u78ba\u4fdd\u5be9\u6838\u8207\u8ffd\u8e64\u5dee\u7570\u3002</li> </ul> <p>::: tip \u5efa\u8b70\uff1a\u628a\u80fd\u81ea\u52d5\u5316\u7684\u6b65\u9a5f\u9010\u6b65\u8f49\u6210 AWS Systems Manager (SSM) Automation Runbooks\uff0c\u5728 SOP \u5167\u63d0\u4f9b\u9023\u7d50\u3002 :::</p>"},{"location":"ec2-maintenance/","title":"EC2 \u7dad\u8b77 SOP\uff08\u5b89\u5168\u66f4\u65b0\u8207\u91cd\u555f\uff09","text":"<ul> <li>\u76ee\u7684\uff1a\u4f8b\u884c\u5957\u7528 OS \u66f4\u65b0\u4e26\u5728\u7dad\u8b77\u7a97\u91cd\u555f</li> <li>\u9069\u7528\u7bc4\u570d\uff1a\u6a19\u7c64 <code>PatchGroup=Linux-Std</code> \u7684\u5be6\u4f8b</li> <li>\u89d2\u8272\u8207\u6b0a\u9650\uff1a<code>ssm:SendCommand</code>, <code>ec2:DescribeInstances</code></li> </ul>"},{"location":"ec2-maintenance/#1","title":"1. \u524d\u7f6e\u6aa2\u67e5","text":"<ul> <li>[ ] \u7dad\u8b77\u7a97\u516c\u544a\u5b8c\u6210</li> <li>[ ] \u8a72\u5be6\u4f8b\u5df2\u5b89\u88dd SSM Agent \u4e26\u9023\u7dda\u6b63\u5e38</li> <li>[ ] Auto Scaling \u7d44\u5408\u5df2\u8a2d\u5065\u5eb7\u6aa2\u67e5\uff08\u907f\u514d\u540c\u6642\u91cd\u555f\u6240\u6709\u7bc0\u9ede\uff09</li> </ul>"},{"location":"ec2-maintenance/#2","title":"2. \u64cd\u4f5c\u6b65\u9a5f","text":"<ol> <li>\u4ee5 SSM Patch Manager \u5957\u7528\u5b89\u5168\u66f4\u65b0\uff08Baseline\uff1a<code>Linux-Security</code>\uff09</li> <li>\u6aa2\u8996\u88dc\u4e01\u7d50\u679c\u70ba <code>Installed</code></li> <li>\u65bc\u4f4e\u5cf0\u671f\u9010\u53f0\u57f7\u884c\u91cd\u555f\uff1a    <pre><code>aws ssm send-command      --document-name \"AWS-RunShellScript\"      --instance-ids i-xxxxxxxx      --parameters commands=\"sudo reboot\"\n</code></pre></li> <li>\u76e3\u63a7\u61c9\u7528\u5065\u5eb7\u6307\u6a19\u8207 ALB Target \u5065\u5eb7\u72c0\u614b</li> </ol>"},{"location":"ec2-maintenance/#3","title":"3. \u9a57\u8b49","text":"<ul> <li>[ ] \u7248\u672c\u8207\u88dc\u4e01\u6e05\u55ae\u7b26\u5408\u57fa\u7dda\u8981\u6c42</li> <li>[ ] \u61c9\u7528\u8207\u76e3\u63a7\u6062\u5fa9\u6b63\u5e38\uff08CPU\u3001\u932f\u8aa4\u7387\u3001\u5ef6\u9072\uff09</li> </ul>"},{"location":"ec2-maintenance/#4","title":"4. \u56de\u6efe\u65b9\u6848","text":"<ul> <li>\u5c07\u8a72\u5be6\u4f8b\u81ea ALB \u66ab\u6642\u79fb\u51fa\u3001\u9084\u539f AMI \u6216\u524d\u4e00\u7248\u672c\u5feb\u7167\uff0c\u5fc5\u8981\u6642\u7e2e\u5bb9\u6d41\u91cf\u81f3\u5065\u5eb7\u7bc0\u9ede\u3002</li> </ul>"},{"location":"rds-backup/","title":"RDS \u5099\u4efd SOP","text":"<ul> <li>\u76ee\u7684\uff1a\u5efa\u7acb\u8cc7\u6599\u5eab Snapshot \u4e26\u5b9a\u671f\u9a57\u8b49\u53ef\u9084\u539f\u6027  </li> <li>\u9069\u7528\u7bc4\u570d\uff1a\u751f\u7522\u8207\u6e2c\u8a66\u5e33\u865f\uff08\u8acb\u4f9d\u6a19\u7c64\u904e\u6ffe\uff09  </li> <li>\u89d2\u8272\u8207\u6b0a\u9650\uff1a\u5177\u5099\u6700\u5c0f\u6b0a\u9650\u7684 <code>rds:CreateDBSnapshot</code>, <code>rds:Describe*</code>, <code>ssm:GetParameter</code></li> </ul>"},{"location":"rds-backup/#1","title":"1. \u524d\u7f6e\u6aa2\u67e5","text":"<ul> <li>[ ] \u5df2\u516c\u544a\u7dad\u8b77\u6642\u6bb5\uff08\u5982\u9700\uff09</li> <li>[ ] \u76ee\u6a19\u5be6\u4f8b\u72c0\u614b\u70ba <code>available</code></li> <li>[ ] \u6a19\u7c64 <code>Backup=Daily</code> \u5df2\u914d\u7f6e</li> <li>[ ] \u53c3\u6578 <code>/{env}/rds/backup-window</code> \u5df2\u5b58\u5728\uff08Parameter Store\uff09</li> </ul>"},{"location":"rds-backup/#2","title":"2. \u64cd\u4f5c\u6b65\u9a5f","text":"<ol> <li>\u65bc AWS Console \u524d\u5f80 RDS \u2192 Databases</li> <li>\u9078\u64c7\u76ee\u6a19\u5be6\u4f8b\uff0cActions \u2192 Take snapshot</li> <li>\u547d\u540d\u898f\u5247\uff1a<code>{env}-{db}-{YYYYmmddHHMM}</code></li> <li>\u65bc Snapshots \u76e3\u770b\u72c0\u614b\u70ba <code>available</code></li> </ol> <p>::: info \u53ef\u9078\uff1a\u4ee5 SSM \u81ea\u52d5\u5316 \u53ef\u5c07\u6b64\u6d41\u7a0b\u6539\u70ba SSM Automation\uff08\u81ea\u8a02 Runbook\uff09\uff0c\u53ea\u9700\u8f38\u5165 DB Instance ID \u8207\u74b0\u5883\u6a19\u7c64\u5373\u53ef\u57f7\u884c\u3002 :::</p>"},{"location":"rds-backup/#3","title":"3. \u9a57\u8b49","text":"<ul> <li>[ ] \u96a8\u6a5f\u62bd\u6a23 1 \u4efd Snapshot \u9084\u539f\u81f3\u6e2c\u8a66 VPC/\u5b50\u7db2</li> <li>[ ] \u61c9\u7528\u53ef\u6210\u529f\u555f\u52d5\u4e26\u9023\u7dda</li> </ul>"},{"location":"rds-backup/#4","title":"4. \u56de\u6efe\u65b9\u6848","text":"<ul> <li>\u5982\u5099\u4efd\u4f5c\u696d\u5f71\u97ff\u670d\u52d9\uff0c\u5148\u505c\u6b62\u65b0\u5099\u4efd\uff0c\u4fdd\u7559\u8fd1\u671f Snapshot\uff0c\u5fc5\u8981\u6642\u4ee5\u524d\u4e00\u4efd\u53ef\u7528 Snapshot \u9084\u539f\u3002</li> </ul>"},{"location":"rds-backup/#5","title":"5. \u8a18\u9304","text":"<ul> <li>\u8b8a\u66f4\u55ae\u7de8\u865f / \u5be9\u6279\u4eba / \u57f7\u884c\u4eba</li> <li>\u57f7\u884c\u6642\u9593\uff08UTC+8\uff09\u3001\u8017\u6642</li> <li>\u7522\u51fa\u7269\uff1aSnapshot ID\u3001CloudTrail/SSM \u57f7\u884c\u8a18\u9304\u9023\u7d50</li> </ul>"},{"location":"vpc-setup/","title":"VPC \u5efa\u7acb","text":"<ul> <li>\u9996\u9801: index.md</li> <li>\u64cd\u4f5c\u624b\u518a:<ul> <li>RDS \u5099\u4efd: rds-backup.md</li> <li>EC2 \u7dad\u8b77: ec2-maintenance.md</li> <li>VPC \u5efa\u7acb: vpc-setup.md</li> </ul> </li> </ul>"}]}